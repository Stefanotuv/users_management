{% extends "grouping/base_site_grouping.html" %}
{% block title %} Home {% endblock title %}

{% block stylesheets %}
  {{ block.super }}
<style>
        * { box-sizing: border-box; }
    body {
      font: 16px Arial;
    }
    .autocomplete {
      /*the container must be positioned relative:*/
      position: relative;
      display: inline-block;
    }
    input {
      border: 1px solid transparent;
      background-color: #f1f1f1;
      padding: 4px;
      font-size: 12px;
    }
    input[type=text] {
      background-color: #f1f1f1;
      width: 100%;
    }
    input[type=submit] {
      background-color: DodgerBlue;
      color: #fff;
    }
    .autocomplete-items {
      position: absolute;
      border: 1px solid #d4d4d4;
      border-bottom: none;
      border-top: none;
      z-index: 99;
      /*position the autocomplete items to be the same width as the container:*/
      top: 100%;
      left: 0;
      right: 0;
    }
    .autocomplete-items div {
      padding: 4px;
      cursor: pointer;
      background-color: #fff;
      border-bottom: 1px solid #d4d4d4;
    }
    .autocomplete-items div:hover {
      /*when hovering an item:*/
      background-color: #e9e9e9;
    }
    .autocomplete-active {
      /*when navigating through the items using the arrow keys:*/
      background-color: DodgerBlue !important;
      color: #ffffff;
    }

</style>

<style>

th {
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  z-index: 2;
}


</style>

{% endblock stylesheets %}

{% block content %}
  <div class="right_col" role="main">
    <!-- top tiles -->
    <div class="row tile_count">

    </div>
    <!-- /top tiles -->

    <div class="row">


        <div class="col-md-3 col-sm-12 col-xs-12">
          <div class="x_panel">

            <div class="x_title">
              <h2>Nationality<small></small></h2>
                <div style="overflow:auto;">
                  <div style="float:right;">


                  </div>
                </div>
              <div class="clearfix"></div>
            </div>

            <div class="x_content">

                       <div class="table-responsive" style="height: 500px">
                        <table class="table table-striped jambo_table bulk_action">
                          <thead>
                            <tr class="headings" style="border-color: #405467;border-style: solid">
                                <th class="column-title">Nationality</th>

                            </tr>

                          </thead>
                            <tbody>

                                      {% for nation in nationality_list %}
                                         <tr class=" " >
                                         <td class="column-title">{{ nation.value }}</td>
                                        </tr>
                                      {% endfor %}
                            <form action="{% url 'project_constraints_view' %}" method="post">
                                                    {% csrf_token %}
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <input class="autocomplete" id="myNation" name="Nationality" style="width:-webkit-fill-available;" value="">
                                               <input type="hidden" name="submit" style="width:-webkit-fill-available;" value="Nationality">
                                           </div>
                                        </td>
                                    </tr>
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <button type="submit" id="submit_nationality" name="N" style="width:-webkit-fill-available;" value="">Add to the List
                                           </div>
                                        </td>
                                    </tr>
                            </form>
                            </tbody>
                        </table>
                      </div>

              </div>

            </div>

        </div>
        <div class="col-md-3 col-sm-12 col-xs-12">
          <div class="x_panel">

            <div class="x_title">
              <h2>Job Title<small></small></h2>
                <div style="overflow:auto;">
                  <div style="float:right;">


                  </div>
                </div>
              <div class="clearfix"></div>
            </div>

            <div class="x_content">

                       <div class="table-responsive" style="height: 500px">
                        <table class="table table-striped jambo_table bulk_action">
                          <thead>
                            <tr class="headings" style="border-color: #405467;border-style: solid">
                                <th class="column-title">Job Title</th>

                            </tr>

                          </thead>
                            <tbody>

                                      {% for jt in job_title %}
                                         <tr class=" " >
                                         <td class="column-title">{{ jt.value }}</td>
                                        </tr>
                                      {% endfor %}
                            <form action="{% url 'project_constraints_view' %}" method="post">
                                                    {% csrf_token %}
                                      <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <input class="autocomplete" id="myJobTitle" name="JobTitle" style="width:-webkit-fill-available;" value="">
                                               <input type="hidden" name="submit" style="width:-webkit-fill-available;" value="JobTitle">
                                           </div>
                                        </td>
                                    </tr>
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <button type="submit" id="submit_jt" name="JT" style="width:-webkit-fill-available;" value="">Add to the List
                                           </div>
                                        </td>
                                    </tr>
                            </form>
                            </tbody>
                        </table>
                      </div>

              </div>

            </div>

        </div>
        <div class="col-md-3 col-sm-12 col-xs-12">
          <div class="x_panel">

            <div class="x_title">
              <h2>Company<small></small></h2>
                <div style="overflow:auto;">
                  <div style="float:right;">


                  </div>
                </div>
              <div class="clearfix"></div>
            </div>

            <div class="x_content">

                       <div class="table-responsive" style="height: 500px">
                        <table class="table table-striped jambo_table bulk_action">
                          <thead>
                            <tr class="headings" style="border-color: #405467;border-style: solid">
                                <th class="column-title">Company</th>

                            </tr>

                          </thead>
                            <tbody>

                                      {% for com in company %}
                                         <tr class=" " >
                                         <td class="column-title">{{ com.value }}</td>
                                        </tr>
                                      {% endfor %}
                             <form action="{% url 'project_constraints_view' %}" method="post">
                                                     {% csrf_token %}
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <input class="autocomplete" id="myCompany" name="Company" style="width:-webkit-fill-available;" value="">
                                               <input type="hidden" name="submit" style="width:-webkit-fill-available;" value="Company">

                                           </div>
                                        </td>
                                    </tr>
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <button type="submit" id="submit_company" name="C" style="width:-webkit-fill-available;" value="">Add to the List
                                           </div>
                                        </td>
                                    </tr>
                            </form>
                            </tbody>
                        </table>
                      </div>

              </div>

            </div>

        </div>
        <div class="col-md-3 col-sm-12 col-xs-12">
          <div class="x_panel">

            <div class="x_title">
              <h2>Professional Category<small></small></h2>
                <div style="overflow:auto;">
                  <div style="float:right;">


                  </div>
                </div>
              <div class="clearfix"></div>
            </div>

            <div class="x_content">

                       <div class="table-responsive" style="height: 500px">
                        <table class="table table-striped jambo_table bulk_action">
                          <thead>
                            <tr class="headings" style="border-color: #405467;border-style: solid">
                                <th class="column-title">Prof Category</th>

                            </tr>

                          </thead>
                            <tbody>

                                      {% for pc in professional_category %}
                                         <tr class=" " >
                                         <td class="column-title">{{ pc.value }}</td>
                                        </tr>
                                      {% endfor %}
                            <form action="{% url 'project_constraints_view' %}" method="post">
                                                    {% csrf_token %}
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <input class="autocomplete" id="myProfessionalCategory" name="ProfessionalCategory" style="width:-webkit-fill-available;" value="">
                                               <input type="hidden" name="submit" style="width:-webkit-fill-available;" value="ProfessionalCategory">

                                           </div>
                                        </td>
                                    </tr>
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <button type="submit" id="submit_pc" name="PC" style="width:-webkit-fill-available;" value="">Add to the List
                                           </div>
                                        </td>
                                    </tr>
                            </form>
                            </tbody>
                        </table>
                      </div>

              </div>

            </div>

        </div>
    </div>
    <div class="row">


        <div class="col-md-3 col-sm-3 col-xs-3">
          <div class="x_panel">

            <div class="x_title">
              <h2>Job Functions<small></small></h2>
                <div style="overflow:auto;">
                  <div style="float:right;">


                  </div>
                </div>
              <div class="clearfix"></div>
            </div>

            <div class="x_content">

                       <div class="table-responsive">
                        <table class="table table-striped jambo_table bulk_action">
                          <thead>
                            <tr class="headings" style="border-color: #405467;border-style: solid">
                                <th class="column-title">Job Function</th>

                            </tr>

                          </thead>
                            <tbody>

                                      {% for jf in job_function %}
                                         <tr class=" " >
                                         <td class="column-title">{{ jf.value }}</td>
                                        </tr>
                                      {% endfor %}
                            <form action="{% url 'project_constraints_view' %}" method="post">
                                                    {% csrf_token %}
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <input class="autocomplete" id="myJobFunction" name="JobFunction" style="width:-webkit-fill-available;" value="">
                                               <input type="hidden" name="submit" style="width:-webkit-fill-available;" value="JobFunction">
                                           </div>
                                        </td>
                                    </tr>
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <button type="submit" id="submit_jf" name="JF" style="width:-webkit-fill-available;" value="">Add to the List
                                           </div>
                                        </td>
                                    </tr>
                            </form>
                            </tbody>
                        </table>
                      </div>

              </div>

            </div>

        </div>
        {% if user.is_superuser %}
        <div class="col-md-3 col-sm-3 col-xs-3">
          <div class="x_panel">

            <div class="x_title">
              <h2>Mandatory Table Fields<small></small></h2>
                <div style="overflow:auto;">
                  <div style="float:right;">


                  </div>
                </div>
              <div class="clearfix"></div>
            </div>

            <div class="x_content">

                       <div class="table-responsive">
                        <table class="table table-striped jambo_table bulk_action">
                          <thead>
                            <tr class="headings" style="border-color: #405467;border-style: solid">
                                <th class="column-title">Table Field</th>

                            </tr>

                          </thead>
                            <tbody>

                                      {% for tf in table_fields %}
                                         <tr class=" " >
                                         <td class="column-title">{{ tf.value }}</td>
                                        </tr>
                                      {% endfor %}
                            <form action="{% url 'project_constraints_view' %}" method="post">
                                                    {% csrf_token %}
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <input class="autocomplete" id="myJobFunction" name="TableFieldsMandatory" style="width:-webkit-fill-available;" value="">
                                               <input type="hidden" name="submit" style="width:-webkit-fill-available;" value="TableFieldsMandatory">
                                           </div>
                                        </td>
                                    </tr>
                                    <tr class=" " >
                                        <td>
                                           <div class="autocomplete" style="width:-webkit-fill-available;" >
                                            <button type="submit" id="submit_jf" name="JF" style="width:-webkit-fill-available;" value="">Add to the List
                                           </div>
                                        </td>
                                    </tr>
                            </form>
                            </tbody>
                        </table>
                      </div>

              </div>

            </div>

        </div>
        {% endif %}
    </div>
  </div>


    <div class="row">



    </div>

    <br />

    <div class="row">

    </div>

    <div class="row">

    </div>

    </div>

{% endblock content %}

{% block javascripts %}
  {{ block.super}}
  <!-- Chart.js -->
  <script src="/static/vendors/Chart.js/dist/Chart.min.js"></script>
  <!-- gauge.js -->
  <script src="/static/vendors/gauge.js/dist/gauge.min.js"></script>
  <!-- Skycons -->
  <script src="/static/vendors/skycons/skycons.js"></script>
  <!-- Flot -->
  <script src="/static/vendors/Flot/jquery.flot.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.pie.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.time.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.stack.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.resize.js"></script>
  <!-- Flot plugins -->
  <script src="/static/vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
  <script src="/static/vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
  <script src="/static/vendors/flot.curvedlines/curvedLines.js"></script>
  <!-- DateJS -->
  <script src="/static/vendors/DateJS/build/date.js"></script>
  <!-- JQVMap -->
  <script src="/static/vendors/jqvmap/dist/jquery.vmap.js"></script>
  <script src="/static/vendors/jqvmap/dist/maps/jquery.vmap.world.js"></script>
  <script src="/static/vendors/jqvmap/examples/js/jquery.vmap.sampledata.js"></script>

    <script>
    var countries = [
        {% for nation in nationality_list %}
            "{{ nation }}",
        {% endfor %}]

    var job_title =[
        {% for element in job_title %}
            "{{ element }}",
        {% endfor %}]
    var company = [
        {% for element in company %}
            "{{ element }}",
        {% endfor %}]
    var professional_category = [
        {% for element in professional_category %}
            "{{ element }}",
        {% endfor %}]
    var job_function =[
        {% for element in job_function %}
            "{{ element }}",
        {% endfor %}]


    autocomplete(document.getElementById("myNation"), countries);
    autocomplete(document.getElementById("myJobTitle"), job_title);
    autocomplete(document.getElementById("myCompnay"), company);
    autocomplete(document.getElementById("myProfessionalCategory"), professional_category);
    autocomplete(document.getElementById("myJobFunction"), job_function);
    
    function autocomplete(inp, arr) {
  /*the autocomplete function takes two arguments,
  the text field element and an array of possible autocompleted values:*/
  var currentFocus;
  /*execute a function when someone writes in the text field:*/
  inp.addEventListener("input", function(e) {
      var a, b, i, val = this.value;
      /*close any already open lists of autocompleted values*/
      closeAllLists();
      if (!val) { return false;}
      currentFocus = -1;
      /*create a DIV element that will contain the items (values):*/
      a = document.createElement("DIV");
      a.setAttribute("id", this.id + "autocomplete-list");
      a.setAttribute("class", "autocomplete-items");
      /*append the DIV element as a child of the autocomplete container:*/
      this.parentNode.appendChild(a);
      /*for each item in the array...*/
      for (i = 0; i < arr.length; i++) {
        /*check if the item starts with the same letters as the text field value:*/
        if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
          /*create a DIV element for each matching element:*/
          b = document.createElement("DIV");
          /*make the matching letters bold:*/
          b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
          b.innerHTML += arr[i].substr(val.length);
          /*insert a input field that will hold the current array item's value:*/
          b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
          /*execute a function when someone clicks on the item value (DIV element):*/
              b.addEventListener("click", function(e) {
              /*insert the value for the autocomplete text field:*/
              inp.value = this.getElementsByTagName("input")[0].value;
              /*close the list of autocompleted values,
              (or any other open lists of autocompleted values:*/
              closeAllLists();
          });
          a.appendChild(b);
        }
      }
  });
  /*execute a function presses a key on the keyboard:*/
  inp.addEventListener("keydown", function(e) {
      var x = document.getElementById(this.id + "autocomplete-list");
      if (x) x = x.getElementsByTagName("div");
      if (e.keyCode == 40) {
        /*If the arrow DOWN key is pressed,
        increase the currentFocus variable:*/
        currentFocus++;
        /*and and make the current item more visible:*/
        addActive(x);
      } else if (e.keyCode == 38) { //up
        /*If the arrow UP key is pressed,
        decrease the currentFocus variable:*/
        currentFocus--;
        /*and and make the current item more visible:*/
        addActive(x);
      } else if (e.keyCode == 13) {
        /*If the ENTER key is pressed, prevent the form from being submitted,*/
        e.preventDefault();
        if (currentFocus > -1) {
          /*and simulate a click on the "active" item:*/
          if (x) x[currentFocus].click();
        }
      }
  });
  function addActive(x) {
    /*a function to classify an item as "active":*/
    if (!x) return false;
    /*start by removing the "active" class on all items:*/
    removeActive(x);
    if (currentFocus >= x.length) currentFocus = 0;
    if (currentFocus < 0) currentFocus = (x.length - 1);
    /*add class "autocomplete-active":*/
    x[currentFocus].classList.add("autocomplete-active");
  }
  function removeActive(x) {
    /*a function to remove the "active" class from all autocomplete items:*/
    for (var i = 0; i < x.length; i++) {
      x[i].classList.remove("autocomplete-active");
    }
  }
  function closeAllLists(elmnt) {
    /*close all autocomplete lists in the document,
    except the one passed as an argument:*/
    var x = document.getElementsByClassName("autocomplete-items");
    for (var i = 0; i < x.length; i++) {
      if (elmnt != x[i] && elmnt != inp) {
      x[i].parentNode.removeChild(x[i]);
    }
  }
}
/*execute a function when someone clicks in the document:*/
document.addEventListener("click", function (e) {
    closeAllLists(e.target);
});
}

    </script>



{% endblock javascripts %}
