{% extends "grouping/base_site_grouping.html" %}
{% block title %} Home {% endblock title %}

{% block stylesheets %}
  {{ block.super }}
{% endblock stylesheets %}

{% block content %}
  <div class="right_col" role="main">
    <!-- top tiles -->
    <div class="row tile_count">


    </div>
    <!-- /top tiles -->

      <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">
          <div class="x_panel">
            <div class="x_title">
              <h2>Profile <small>user info and activities</small></h2>

              <div class="clearfix"></div>
            </div>
            <div class="x_content">
              <div class="col-md-3 col-sm-3 col-xs-12 profile_left">
                <div   class="profile_img">
                  <div id="crop-avatar">
                    <!-- Current avatar -->
                    <a href="{{ user.profile.image.url }}">

                        <img class="img-responsive avatar-view" src="{{ user.profile.image.url }}" alt="Avatar" title="Change the avatar">
                    </a>
                  </div>
                </div>
                  <br>
                  <form id="my_form" action="{% url 'users_profile' user.pk %}" method="post">
                    {% csrf_token %}
                <div class="col-md-12 col-sm-12 col-xs-12 form-group has-feedback">
                  <input name="email" readonly type="text" class="form-control has-feedback-left" id="inputSuccess2" placeholder="{{ user.email }}" value="{{ user.email }}">
                  <span class="fa fa-envelope form-control-feedback left" aria-hidden="true"></span>
                </div>
                <div class="col-md-12 col-sm-12 col-xs-12 form-group has-feedback">
                  <input name="name" readonly type="text" class="form-control has-feedback-left" id="inputSuccess2" placeholder="{{ user.name }}" value="{{ user.name }}">
                  <span class="fa fa-user form-control-feedback left" aria-hidden="true"></span>
                </div>
                <div class="col-md-12 col-sm-12 col-xs-12 form-group has-feedback">
                  <input name="address" readonly type="text" class="form-control has-feedback-left" id="inputSuccess2" placeholder="{{ user.profile.address }}" value="{{ user.profile.address }}">
                  <span class="fa fa-map-marker form-control-feedback left" aria-hidden="true"></span>
                </div>

                    <div name="edit_profile" class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback" style="padding-left: 0px;">
                <a class="btn btn-success" onclick="edit_save(this)"><i class="fa fa-edit m-right-xs" style="padding-right: .5em;"></i>Edit Profile</a>

                </div>

                    <div name="save_profile" hidden class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback" style="padding-left: 0px;">
                <a href="javascript:{}" onclick="document.getElementById('my_form').submit();" class="btn btn-success" type="submit" ><i class="fa fa-edit m-right-xs" style="padding-right: .5em;"></i>Save Profile</a>

                </div>

                    <div class="col-md-6 col-sm-6 col-xs-12 form-group has-feedback" style="padding-right: 0px;">
                  <a class="btn btn-success" href="{% url 'user_change_picture' user.pk %}" ><i class="fa fa-user m-right-xs" style="padding-right: .5em;"></i>Change Pic</a>
                </div>
                </form>
                <br />

              </div>
              <div class="col-md-9 col-sm-9 col-xs-12">

                <div class="profile_title">
                  <div class="col-md-6">
                    <h2>User Activity Report</h2>
                  </div>
                  <div class="col-md-6">
                    <div id="reportrange" class="pull-right" style="margin-top: 5px; background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #E6E9ED">
                      <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
                      <span>December 30, 2014 - January 28, 2015</span> <b class="caret"></b>
                    </div>
                  </div>
                </div>
                <!-- start of user-activity-graph -->
                <div id="graph_bar" style="width:100%; height:280px;"></div>
                <!-- end of user-activity-graph -->

              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">



    </div>

    <br />

    <div class="row">

    </div>

    <div class="row">

    </div>
  </div>
{% endblock content %}

{% block javascripts %}
  {{ block.super}}
  <!-- Chart.js -->
  <script src="/static/vendors/Chart.js/dist/Chart.min.js"></script>
  <!-- gauge.js -->
  <script src="/static/vendors/gauge.js/dist/gauge.min.js"></script>
  <!-- Skycons -->
  <script src="/static/vendors/skycons/skycons.js"></script>
  <!-- Flot -->
  <script src="/static/vendors/Flot/jquery.flot.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.pie.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.time.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.stack.js"></script>
  <script src="/static/vendors/Flot/jquery.flot.resize.js"></script>
  <!-- Flot plugins -->
  <script src="/static/vendors/flot.orderbars/js/jquery.flot.orderBars.js"></script>
  <script src="/static/vendors/flot-spline/js/jquery.flot.spline.min.js"></script>
  <script src="/static/vendors/flot.curvedlines/curvedLines.js"></script>
  <!-- DateJS -->
  <script src="/static/vendors/DateJS/build/date.js"></script>
  <!-- JQVMap -->
  <script src="/static/vendors/jqvmap/dist/jquery.vmap.js"></script>
  <script src="/static/vendors/jqvmap/dist/maps/jquery.vmap.world.js"></script>
  <script src="/static/vendors/jqvmap/examples/js/jquery.vmap.sampledata.js"></script>

  <!-- ECharts -->
  <script src="/static/vendors/echarts/dist/echarts.min.js"></script>
  <script src="/static/vendors/echarts/map/js/world.js"></script>
    <script>
        function edit_save(){
            document.getElementsByName('edit_profile')[0].hidden = true
            document.getElementsByName('save_profile')[0].hidden = false
            document.getElementsByName('email')[0].readOnly = false
            document.getElementsByName('name')[0].readOnly = false
            document.getElementsByName('address')[0].readOnly = false
        }
    </script>
{% endblock javascripts %}
